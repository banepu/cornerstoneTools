<div class="buttons shape-buttons">
    <div class="row-label">
        Shapes:
    </div>
    <button class="button set-tool-mode is-primary" data-action="SCISSORS">
        <span>Scissors</span>
    </button>
    <button class="button set-tool-mode" data-action="CIRCLE">
        <span>Circle</span>
    </button>
    <button class="button set-tool-mode" data-action="RECTANGLE">
        <span>Rectangle</span>
    </button>
</div>

<div class="buttons strategies-buttons">
    <div class="row-label">
        Strategies
    </div>
    <button class="button set-tool-mode is-primary" data-action="FILL_INSIDE">
        <span>Fill Inside</span>
    </button>
    <button class="button set-tool-mode" data-action="ERASE_INSIDE">
        <span>Erase Inside</span>
    </button>
    <button class="button set-tool-mode" data-action="FILL_OUTSIDE">
        <span>Fill outside</span>
    </button>
    <button class="button set-tool-mode" data-action="ERASE_OUTSIDE">
        <span>Erase Outside</span>
    </button>
</div>


<script>
  function _initInterface() {

    function bindEvents(buttons, handleClick) {
      buttons.forEach(btn => {
        btn.addEventListener('contextmenu', handleClick);
        btn.addEventListener('auxclick', handleClick);
        btn.addEventListener('click', handleClick);
      });
    }

    function cleanAllButtons(evt, buttons) {
      const options = {
        mouseButtonMask:
          evt.buttons || convertMouseEventWhichToButtons(evt.which),
      };

      // Remove active style from all buttons
      buttons.forEach(btn => {
        btn.classList.remove('is-primary');
      });
    }

    function deactivateLinkBehaviour(evt) {
      evt.preventDefault();
      evt.stopPropagation();
      evt.stopImmediatePropagation();
    }

    (function DealWithStrategies(){
      const nameSpace = `.strategies-buttons`;
      const buttons = document.querySelectorAll(`${nameSpace} .set-tool-mode`);

      const handleClick = function(evt) {
        const action = this.dataset.action;
        const ActiveScissorTool = cornerstoneTools.getToolForElement(element, 'Scissors');
        ActiveScissorTool._changeStrategy(action);

        cleanAllButtons(evt, buttons);

        // Add active style to this button
        this.classList.add('is-primary');

        deactivateLinkBehaviour(evt);
        return false;
      };

      bindEvents(buttons, handleClick);
    })();

    (function DealWithShapes(){
      const nameSpace = `.shape-buttons`;
      const buttons = document.querySelectorAll(`${nameSpace} .set-tool-mode`);

      const handleClick = function(evt) {
        const action = this.dataset.action;

        cleanAllButtons(evt, buttons);

        // Add active style to this button
        this.classList.add('is-primary');

        deactivateLinkBehaviour(evt);
        return false;
      };

      bindEvents(buttons, handleClick);
    })();

  }
</script>
